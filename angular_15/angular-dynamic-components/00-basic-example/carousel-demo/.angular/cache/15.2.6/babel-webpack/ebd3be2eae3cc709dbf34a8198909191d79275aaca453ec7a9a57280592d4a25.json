{"ast":null,"code":"import { CarouselItemComponent } from '../carousel-item/carousel-item.component';\nimport { DynamicCarouselItemAnchorDirective } from '../dynamic-carousel-item-anchor.directive';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../dynamic-carousel-item-anchor.directive\";\nfunction CarouselComponent_ng_template_1_Template(rf, ctx) {}\nexport class CarouselComponent {\n  constructor(componentFactoryResolver) {\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.items = [];\n  }\n  addCarouselItem(template, data) {\n    const componentFactory = this.componentFactoryResolver.resolveComponentFactory(CarouselItemComponent);\n    const viewContainerRef = this.dynamicPlaceHolder.viewContainer; // [2]\n    const componentRef = viewContainerRef.createComponent(componentFactory); // [3]\n    const instance = componentRef.instance;\n    instance.template = template; //[4]\n    instance.dataContext = data;\n    this.items.push(instance); // [5]\n  }\n}\n\nCarouselComponent.ɵfac = function CarouselComponent_Factory(t) {\n  return new (t || CarouselComponent)(i0.ɵɵdirectiveInject(i0.ComponentFactoryResolver));\n};\nCarouselComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: CarouselComponent,\n  selectors: [[\"app-carousel\"]],\n  viewQuery: function CarouselComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(DynamicCarouselItemAnchorDirective, 5);\n    }\n    if (rf & 2) {\n      let _t;\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.dynamicPlaceHolder = _t.first);\n    }\n  },\n  decls: 2,\n  vars: 0,\n  consts: [[1, \"carousel-container\"], [\"appDynamicCarouselItemAnchor\", \"\"]],\n  template: function CarouselComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"ul\", 0);\n      i0.ɵɵtemplate(1, CarouselComponent_ng_template_1_Template, 0, 0, \"ng-template\", 1);\n      i0.ɵɵelementEnd();\n    }\n  },\n  dependencies: [i1.DynamicCarouselItemAnchorDirective],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"AAEA,SAASA,qBAAqB,QAAQ,0CAA0C;AAChF,SAASC,kCAAkC,QAAQ,2CAA2C;;;;AAO9F,OAAM,MAAOC,iBAAiB;EAK5BC,YACUC,wBAAkD;IAAlD,6BAAwB,GAAxBA,wBAAwB;IAHlC,UAAK,GAA4B,EAAE;EAI/B;EAEJC,eAAe,CAACC,QAAa,EAAEC,IAAS;IACtC,MAAMC,gBAAgB,GAAG,IAAI,CAACJ,wBAAwB,CACnDK,uBAAuB,CAACT,qBAAqB,CAAC;IACjD,MAAMU,gBAAgB,GAAG,IAAI,CAACC,kBAAkB,CAACC,aAAa,CAAC,CAAC;IAEhE,MAAMC,YAAY,GAAGH,gBAAgB,CAACI,eAAe,CAACN,gBAAgB,CAAC,CAAC,CAAC;IACzE,MAAMO,QAAQ,GAA0BF,YAAY,CAACE,QAAiC;IACtFA,QAAQ,CAACT,QAAQ,GAAGA,QAAQ,CAAC,CAAC;IAC9BS,QAAQ,CAACC,WAAW,GAAGT,IAAI;IAC3B,IAAI,CAACU,KAAK,CAACC,IAAI,CAACH,QAAQ,CAAC,CAAC,CAAC;EAC7B;;;AAnBWb,iBAAiB;mBAAjBA,iBAAiB;AAAA;AAAjBA,iBAAiB;QAAjBA,iBAAiB;EAAAiB;EAAAC;IAAA;qBACjBnB,kCAAkC;;;;;;;;;;;;MCX/CoB,6BAA+B;MAE3BA,kFAAwD;MAC5DA,iBAAK","names":["CarouselItemComponent","DynamicCarouselItemAnchorDirective","CarouselComponent","constructor","componentFactoryResolver","addCarouselItem","template","data","componentFactory","resolveComponentFactory","viewContainerRef","dynamicPlaceHolder","viewContainer","componentRef","createComponent","instance","dataContext","items","push","selectors","viewQuery","i0"],"sourceRoot":"","sources":["/Users/jaimesalaszancada/Documents/trainings/angular-architecture-essentials/angular_15/angular-dynamic-components/00-basic-example/carousel-demo/src/app/components/carousel/carousel.component.ts","/Users/jaimesalaszancada/Documents/trainings/angular-architecture-essentials/angular_15/angular-dynamic-components/00-basic-example/carousel-demo/src/app/components/carousel/carousel.component.html"],"sourcesContent":["import { Component, ViewChild, ComponentFactoryResolver } from '@angular/core';\n\nimport { CarouselItemComponent } from '../carousel-item/carousel-item.component';\nimport { DynamicCarouselItemAnchorDirective } from '../dynamic-carousel-item-anchor.directive';\n\n@Component({\n  selector: 'app-carousel',\n  templateUrl: './carousel.component.html',\n  styleUrls: ['./carousel.component.css']\n})\nexport class CarouselComponent {\n  @ViewChild(DynamicCarouselItemAnchorDirective) dynamicPlaceHolder!:\n  DynamicCarouselItemAnchorDirective;\n  items: CarouselItemComponent[] = [];\n\n  constructor(\n    private componentFactoryResolver: ComponentFactoryResolver\n  ) { }\n\n  addCarouselItem(template: any, data: any) {\n    const componentFactory = this.componentFactoryResolver\n      .resolveComponentFactory(CarouselItemComponent);\n    const viewContainerRef = this.dynamicPlaceHolder.viewContainer; // [2]\n\n    const componentRef = viewContainerRef.createComponent(componentFactory); // [3]\n    const instance: CarouselItemComponent = componentRef.instance as CarouselItemComponent;\n    instance.template = template; //[4]\n    instance.dataContext = data;\n    this.items.push(instance); // [5]\n  }\n\n}\n","<ul class=\"carousel-container\">\n    <!-- <ng-content></ng-content> -->\n    <ng-template appDynamicCarouselItemAnchor></ng-template>\n</ul>"]},"metadata":{},"sourceType":"module","externalDependencies":[]}